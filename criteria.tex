%!TEX root = main.tex

\section{Possible Quality Issues in SKOS Vocabularies}\label{sec:criteria}

% Briefly describe methodology

We identified an initial set of possible quality issues in SKOS vocabularies by reviewing existing literature and manually examining existing vocabularies. We published our findings online\footnote{\url{https://github.com/cmader/qSKOS/wiki/Quality-Criteria-for-SKOS-Vocabularies}} and requested feedback from experts via public mailing list and informal face to face discussions. Based on the received responses, we then selected a subset of these issues and formalized them into computable \textbf{quality checking functions}. Each function operates on a SKOS vocabulary, which we define, for the purpose of this work, as follows:

\begin{definition}[SKOS Vocabulary] Let a SKOS vocabulary be a tuple of the form $V = \langle IR, C, SR, ULV \rangle$, with \(IR = I_{CEXT}(\texttt{rdfs:Resource}^\mathcal{I})\) being the set of \textbf{resources}, \(C = I_{CEXT}(\texttt{skos:Concept}^\mathcal{I})\) being the set of \textbf{concepts}, \(SR = I_{EXT}(\texttt{skos:semanticRelation}^\mathcal{I})\) being the set of \textbf{semantic relations} associating conceptual resources with one another, and $LV \subseteq I_{CEXT}(\texttt{rdfs:Literal}^\mathcal{I})$ being the set of untyped \textbf{plain literals}. Further, we let $V$ be the fully entailed RDFS interpretation~\cite{RDFSEM2012} of the underlying RDF graph, enriched by entailment of \texttt{owl:inverseOf} properties. 

\end{definition}

A quality checking function is applied on a given SKOS vocabulary and finds all vocabulary resources that match a certain issue and might degrade the overall quality of a vocabulary. Therefore, we can formalize a quality issue in terms of an abstract function $f:V \rightarrow \mathcal{P}(IR)$ that maps a given vocabulary $v \in V$ to the powerset of its resources. Each quality issue we found can be implemented as a realization of that abstract function and possibly take additional parameters. Statistical analysis can be computed on top of the result set.

In the following, we explain the origins and design rationale for each quality issue (QI) and define the corresponding quality checking function. For better readability and due to lack of space we provide only semi-formal definitions and refer to the online documentation and the implementation source code for further details. We also categorized the identified quality issues into \emph{Labeling and Documentation Issues}, \emph{Structural Issues}, \emph{Linked Data Specific Issues}, and \emph{Other Issues}. 


% LABELING AND DOCUMENTATION ISSUES

\subsection{Labeling and Documentation Issues}

The following issues primarily focus on possible problems that might arise when human users work with a SKOS vocabulary or interact with a system that uses the vocabulary for, e.g., search and retrieval purposes.

\paragraph{QI 1: Omitted or Invalid Language Tags}

% Origin and rationale
SKOS defines a set of properties that link resources with RDF Literals, which are plain text natural language strings with an optional language tag. This includes the labeling properties \texttt{skos:prefLabel}, \texttt{skos:altLabel}, \texttt{skos:hiddenLabel} and also SKOS documentation properties, such as \texttt{skos:note} and subproperties thereof. Omitting language tags or using non-standardized, private language tags in a SKOS vocabulary could unintentionally limit the result set of language-dependent structural queries.
% Function defintion
We can check a SKOS vocabulary for omitted and invalid language tags by defining a quality checking function $oilt$ that iterates over all resources in $IR$ and finds those that have relations to plain literals with missing or invalid language tags, hence tags that are not defined in RFC3066\footnote{RFC 3066: Tags for the Identification of Languages \url{http://www.ietf.org/rfc/rfc3066.txt}}.

\paragraph{QI 2: Incomplete Language Coverage}

% Origin and rationale
Soergel et al.~\cite{Soergel1997} point out the problem that ``...a concept lexicalized in one language may not be lexicalized in another and that the terms do exist often vary slightly in meaning, possibly giving rise to different relationships.'' As a consequence, for such cases the authors suggest revising the vocabulary structure and ``clearly instruct indexers in all languages how the term is to be used''. In the context of SKOS, this means that the set of language tags used by the literal values linked with a concept should be checked to be the same for all concepts. If this is not true for a vocabulary, appropriate actions like, e.g., splitting concepts or introducing scope notes should be taken by the creators. This is particularly important for applications that rely on internationalization and translation use cases.
% Function defintion
We identify affected the concepts by a function $ilc$ that first extracts the global set of language tags used in a vocabulary from all literal values attached to all concepts in $C$. In a second iteration over all concepts it identifies all concepts having a set of language tags that is not equal to the global language set.

\paragraph{QI 3: Undocumented Concepts}

% Origin and rationale
Svenonius~\cite{Svenonius1997} advocates the ``inclusion of as much definition material as possible'' and the SKOS language specification~\cite{SkosReference2008} defines a set of properties, denoted as ``documentation properties'', that are intended to hold this kind of information.
% Function defintion
To identify all undocumented concepts, we define a function $uc$ we iterate over all concepts in $C$ and by default collect those that do not use any of these documentation properties.

\paragraph{QI 4: Label Conflicts}

% Origin and rationale
This issue is an extension of a statement from the SKOS Primer~\cite{Isaac2009} that recommends that ``no two concepts have the same preferred lexical label in a given language when they belong to the same concept scheme''. We reviewed existing vocabularies and applications and found that (i) many vocabularies don't use concept schemes and (ii) identical \texttt{skos:altLabels} or \texttt{skos:hiddenLabels} can also negatively affect use cases such as auto-completion, which proposes labels based on the user input.
% Function defintion
Thus, we generalize this statement and define a function $lc$ that finds all concept pairs with their respective \texttt{skos:prefLabel}, \texttt{skos:altLabel} or \texttt{skos:hiddenLabel} property values meeting a certain similarity threshold defined by a function $sim:LV \times LV \rightarrow [0,1]$. The default, built-in similarity function checks for case-insensitive string equality with a threshold equal to 1. The function iterates over all concept pairs $C \times C$, applies $sim$ to every possible label combination, and collects those pairs with at least one label combination that meet or exceed a specified similarity threshold.

% STRUCTURAL METRICS

\subsection{Structural Issues}

The commonality of the following issues is that they can affect applications areas that exploit the underlying graph structure of a SKOS vocabulary.

\paragraph{QI 5: Orphan Concepts}

% Origin and rationale
This issue is motivated by the notion of ``orphan terms'' in the literature (cf.,~\cite{Hedden2010}), which are are terms without any associative or hierarchical relationships. Checking for such terms is common in existing thesaurus development applications and also suggested by~\cite{Z39.19:2005}. Since SKOS is concept-centric, we understand an orphan concept as being a concept that has no semantic relation $sr \in SR$ with any other concept. Although it might have attached lexical labels, it lacks valuable context information, which can be essential for retrieval tasks such as search query expansion.
% Function defintion
In order to find orphan concepts in a SKOS vocabulary, we define a function $oc$ that iterates over all elements in $C$, filtering those not having a semantic relation to any other conceptual resource in $C$. 

\paragraph{QI 6: Weakly Connected Components}

% Origin and rationale
indicate that a vocabulary is split into separate ``clusters'', which can be caused by incomplete data acquisition, ``forgotten'' test data, outdated terms, accidental deletion of relations, etc. This can affect operations that rely on navigating a connected vocabulary structure, such as query expansion or suggestion of related terms.
% Function defintion
In order to find weakly connected components, we define a function $wcc$, which first creates an undirected graph having all non-orphan concepts (as defined above) as nodes and all semantic relations $SR$ as edges. It then applies ``Tarjanâ€™s algorithm''~\cite{Hopcroft1973} to find all connected components, hence all sets of concepts that are connected by semantic relations.

\paragraph{QI 7: Cyclic Hierarchical Relations}

% Origin and rationale
is a quality issue motivated by Soergel et al.~\cite{Soergel2002} who suggest a ``check for hierarchy cycles'' since they ``throw the program for a loop in the generation of a complete hierarchical structure''. Also Hedden~\cite{Hedden2010}, Harpring~\cite{Harpring2010} and Aitchison et al.~\cite{Aitchison2000} argue that there exist common forms like, e.g., ``generic-specific'', ``instance-of'' or ``whole-part'' where cycles would be considered a logical contradiction.
% Function defintion
We provide a function $chr$, which finds cyclic relations by constructing a graph with the set of nodes being $C$ and the set of edges being $I_{EXT}(\texttt{skos:broader}^\mathcal{I})$, i.e. all pairs of resources connected by \texttt{skos:broader} relations. It then identifies the sets of nodes that are involved in cycles. 

%Since all function operate on the entailed RDF graph, this algorithm implicitly also considers \texttt{skos:narrower} relations. CM: ist eigentlich aus def1 klar denke ich

\paragraph{QI 8: Valueless Associative Relations}

% Origin and rationale
The ISO/DIS 25964-1 standard \cite{ISO25964-1:2011} suggests that terms that share a common broader term but do not have an overlapping meaning, should not be related associatively. This is advocated by \cite{Hedden2010,Aitchison2000} the latter also mentioning ``the risk that thesaurus compilers may overload the thesaurus with valueless relationships'', having a negative effect on precision.
% Function defintion
The function \textit{var} identifies a set of pairs of conceptual resources that share the same broader or narrower concept while also being associatively related by the property \texttt{skos:related}.

\paragraph{QI 9: Solely Transitively Related Concepts}
% Origin and rationale
Two concepts that are \textbf{explicitly} related by \texttt{skos:broaderTransitive} and/or \texttt{skos:narrowerTransitive} can be regarded a quality issue because, according to \cite{SkosReference2008}, they are ``not used to make assertions''. Transitive hierarchical relations in SKOS are meant to be infered by the vocabulary \textbf{consumer}, which is reflected in the SKOS schema by, e.g., \texttt{skos:broader} being a subproperty of \texttt{skos:broaderTransitive}. 
% Function definition
This fuction \textit{strc} iterates over all pairs of concepts $C \times C$ that are directly related by the mentioned transitive properties, not by one of their subproperties.

\paragraph{QI 10: Omitted Top Concepts}
% Origin and rationale
The SKOS language provides concept schemes, which are a facility for grouping related concepts. In order to provide entry points to such a group of concepts, one or more concepts can be marked as top concepts. This helps to provide ``efficient access''~\cite{Isaac2009} and simplifies orientation in the vocabulary. 
% Function definition
We provide a function \textit{otc} that iterates over all \texttt{skos:ConceptScheme}s in $V$ and collects those that do not occur in relations established by the properties \texttt{skos:hasTopConcept} or \texttt{skos:topConceptOf}.

\paragraph{QI 11: Top Concept Having Broader Concepts}
% Origin and rationale
Allemang et al. \cite{Allemang2011} propose to ``not indicate any concepts internal to the tree as top concepts'', i. e. top concepts should not have broader concepts. 
% Function definition
The function \textit{tchbc} iterates over all \texttt{skos:TopConcept}s defined in $V$ and collects those that are related to a resource by the \texttt{skos:broader} property.

% LINKED-DATA SPECIFIC ISSUES

\subsection{Linked Data Specific Issues}

This section identifies issues related to a vocabulary's interaction with other datasets in the LOD cloud.

\paragraph{QI 12: Missing In-Links}
% Origin and rationale
A periodically updated version of a diagram visualizing ``the data sets in the LOD cloud as well as their interlinkage relationships'' is publised online\footnote{\url{http://www4.wiwiss.fu-berlin.de/lodcloud/state/}}. In these diagrams, DBpedia is shown as the most intensely linked resource, i.e. a large number of vocabularies link to resources in that dataset. This indicates that a dataset with a large number of other datasets referencing it, can be assumed to be of great value for the community, adding cohesion to the LOD cloud. Accordingly, estimating the number of In-Links of SKOS concepts defined in a vocabulary (henceforth called the in-degree of a concept) gives some hint about how established or accepted a controlled vocabulary is. A method to carry out these estimations would be utilizing existing Linked Data indices like, e.g., Sindice\footnote{\url{http://sindice.com/}} that provide a SPARQL endpoint. 
% Function definition
The function \textit{mil} estimates the number of In-Links for a conceptual resource, by iterating over all elements in $C$ and querying the Sindice SPARQL endpoint for triples containing the concept's URI in the object part. Those concepts having an empty query result, are missing any In-Links and are thus included in the result set of this issue.

\paragraph{QI 13: Missing Out-Links}
% Origin and rationale
The Web of Data consists of globally interconnected datasets, ``enabling seamless connections between data sets''\cite{Heath2011}. These links can be established between various SKOS vocabularies by Out-Links, i.e., references from conceptual resources in the ``source vocabulary'' $V$ to resources identified by an HTTP URI and available at a different host. Similar to QI 12, this issue identifies the set of all conceptual resources that lack such Out-Links. 
% Function definition
We provide the function \textit{mol} that iterates over all elements $c \in C$ and investigates the host part of all related resources. If none of these host names differ from the host part of $c$, it has no Out-Links and is thus included into the resources identified by this issue.


\subsubsection{QI 14: Link Target Unavailability} \todo{BH}{should we just call this "Broken Links" because that's essentially what it's all about}
% Origin and rationale
This criterion identifies a set of all resources that have been identified as unavailable, i.e. resolving their URI leads to an erroneous HTTP response or no response at all. An erroneous HTTP response in that case can be defined as a response code (after a possible redirection) other than 200. Just as in the ``traditional'' Web, these ``broken links'' hinder information gathering and should be avoided. 
% Function definition
Calculation of this criterion is performed by iterating over all resources in $IR$, performing an HTTP request and include those resources in the result set that are unavailable.

% OTHER CRITERIA

\subsection{Other Criteria}

\subsubsection{Undefined SKOS Resource Usage}
Some vocabularies reference resources in the SKOS namespace that cannot be resolved. A common reason for this is, that there seems to exist a misunderstanding about the correct way of introducing new classes or properties in an OWL document. In some cases, vocabularies ``invent'' new terms in the SKOS namespace in order to meet certain requirements of the publishing organizations that cannot (yet) be expressed within the SKOS schema. Another reason for the presence of unresolvable resource references in the SKOS namespace is that the vocabulary might be outdated. With the SKOS W3C recommendation maturing, some properties have been removed from the current version of the schema. Vocabularies using these ``deprecated'' properties hence contain parts of their information in a non ``standard"-compliant way, having negative effects when, e.g., crawling vocabularies to gather specific information. A method to identify these undefined SKOS resources is to iterate over all resources in $IR$, including (i) those resources in the resulting set that are contained in the list of deprecated resources or (ii) have an URI in the SKOS namespace but are not defined in the SKOS ontology. 

