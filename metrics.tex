\section{Quality Metrics for SKOS Vocabularies}\label{sec:metrics}

Based on the findings from a literature survey we now define a set of quantifiable quality criteria for SKOS vocabularies. For each \textbf{criterion} we explain our design rationale, and provide a semi-formal definition, which is based on a set-theoretic conception of the SKOS model. Tools can implement these criteria as functions defined on-top of a the baseline SKOS model.

\subsection{Graph-based Quality Criteria / Network Measures}
The following quality criteria are all derived from a graph-based view on a given vocabulary \(v\), which we can then consider as a directed graph \(G=(N,E)\) consisting of a set of nodes \(N\) and edges \(E\).

\subsubsection{Loose Concepts} are very similar to what is also referred to as ``orphan terms'' in the literature, which are terms without any associative or hierarchical relationships \cite{Z39.19:2005,Hedden2010}. In a SKOS vocabulary, we define a loose concept as a concept that has no semantic or aggregation relations with other conceptual, aggregation or grouping resources. Although they might have attached lexical labels, they lack valuable context information. Checking for orphan terms is common in existing thesaurus development applications and suggested by \cite{Z39.19:2005}. Depending on the vocabulary development policy, loose concepts may be tolerated or considered to be a defect.

\begin{definition}
    
To calculate the number of loose concepts, we let \(G = (C, SR \cup AR)\)  and apply \(deg(c)\) as a function that calculates the degree, hence the number of in- and outgoing edges of a node n in a graph g. We can then define this quality criterion as a function \(looseConcepts : G \rightarrow \mathbb{N}_{0}\), with \[looseConcepts(g) = \left|\left\{c \in C : deg(c) = 0\right\}\right|\]
\end{definition}

\subsubsection{Weakly Connected Components} cause the vocabulary to split into separate disconnected components. This is very similar to the ``loose concepts” criterion introduced before and might be caused by incomplete data acquisition, ``forgotten" test data, outdated terms, accidental deletion of relations and the like. In a practical setting, existence of weakly connected components could render the vocabulary less suitable for operations that rely on navigating a strongly connected vocabulary structure, such as query expansion or suggestion of related terms.

\begin{definition}
To evaluate this criterion we consider a graph \(G = (AC, SRAR)\). The function \(components(g) : G \rightarrow  \mathfrak{P}(G)\) calculates all weakly connected components of a graph by replacing all directed edges by undirected edges and utilizing “Tarjan’s algorithm” \cite{Hopcroft1973}. Based on that function, we can express this criterion as a function \(wcc : G \rightarrow \mathbb{N}_{0}\), with \[wcc(g) = \left|components(g)\right|\]
\end{definition}

\subsubsection{Cyclic Hierarchical Relations} have been mentioned numerous times in thesaurus development literature. \cite{Soergel2002} suggests a ``check for hierarchy cycles" since they ``throw the program for a loop in the generation of a complete hierarchical structure”. However, the SKOS documentation does not state, how exactly hierarchical relationships are to be interpreted. There exist common forms like, e.g., “generic-specific”, “instance-of” or “whole-part” \cite{Hedden2010,Harpring2010,Aitchison2000}. Hierarchical cycles for some of these interpretations in various domains or usage scenarios might be perfectly valid, whereas they would be treated as failures in others.

\begin{definition}
In the context of this work, we define a cycle in a SKOS vocabulary as a logical contradiction in the broader/narrower hierarchy. Let \(HB \subseteq SR\) be the set of broader hierarchical relations associating two conceptual resources with instances of \texttt{skos:broader}, \texttt{skos:broaderTransitive}, \texttt{skos:broadMatch} or subproperties thereof. \(HB\) also associates conceptual resources related with instances \texttt{skos:narrower}, \texttt{skos:narrowTransitive}, \texttt{skos:narrowMatch} or subproperties thereof in reverse order. Likewise, \(HN \subseteq SR\) can be defined as the set of narrower hierarchical relations. We consider two graphs \(GB = (C,HB)\) and \(GN=(C,HN)\) and a function \(cycleNodes:GB \cup GN \rightarrow \mathfrak{P}(C)\) identifying all nodes in a graph, that are part of a cycle. Furthermore we consider a function \(stronglyConnectedSets: GB \cup GN \rightarrow \mathfrak{P}(C)\) that calculates all strongly connected undirected subgraphs of a graph. This criterion can be defined as a function \(chr:GB \cup GN \rightarrow \mathbb{N}_{0}\) with \[chr(g)=\left|\left\{s \in stronglyConnectedSets(g) : cn \in cycleNodes(g), cn \in s\right\}\right|\]
\end{definition}

\subsection{Structure-Centric Quality Criteria / Structural Measures}

\subsubsection{Redundant Associative Relations} \cite{ISO25964-1:2011} suggests that terms that share a common broader term but don’t have an overlapping meaning, should not be related associatively. This is also advocated by \cite{Hedden2010} and \cite{Aitchison2000} who also mentions ``the risk that thesaurus compilers may overload the thesaurus with valueless relationships", having a negative effect on precision.

\begin{definition}
Let \(ASR \subseteq SR\) be the set of associative relations in SKOS, namely \texttt{skos:related} and \texttt{skos:relatedMatch}. These relations are symmetric, so \((c1,c2) \in ASR \Rightarrow (c2,c1) \in ASR\). Formally, this criterion can be expressed as a function \(rar:V \rightarrow \mathbb{N}_{0}\) with \[rar(v)=\left|\left\{(c1,c2) \in ASR : c3 \in C, (c1,c3) \in HB, (c2,c3) \in HB\right\}\right|\]
\end{definition}

\subsubsection{Number of Hierarchically and Associatively Related Concepts}\label{harc} \cite{Aitchison2000} mentions a ``common error in manually produced thesauri" when concepts are related both hierarchically and associatively (F1.3.2). \cite{Hedden2010} also proposes to check for ``pairs of terms that have more than one kind of relationship" as a feasible rule, enforced by thesaurus management software.

% \begin{definition}
% This criterion can be expressed as a function \(har:V \righarrow \mathbb{N}_{0}\) with \[har(v)=\left|\left\{c \in C : c' \in C, (c,c') \in HB \cup HN, (c,c') \in ASR\right\}\right|\]
% \end{definition}

\subsubsection{Unidirectionally Related Concepts} \cite{Z39.19:2005} suggests thesaurus maintenance software to automatically add reciprocal relations (e.g., broader/narrower, related) to the resulting thesaurus. Vocabularies created in that manner are expected, e.g., to be better browsable for humans and provide better search results when used in systems without reasoning support.

\begin{definition}
Let \(ISR \subseteq R \times R\) be a set that associates resources defined in \(V\) that are related by a SKOS property that has an inverse SKOS property defined. Furthermore, ISR also associates resources that are related by a symmetric SKOS property. In an ideal setting \((r,r') \in ISR \iff (r',r) \in ISR\). Thus we can express this criterion as function \(urc:V \rightarrow \mathbb{N}_{0}\) with \[urc(v)=\left|\left\{c \in C : r \in R, (c,r) \in ISR, (r,c) \notin ISR\right\}\right|\]
\end{definition}

\subsubsection{Solely Transitively Related Concepts} Two concepts are related using only transitive hierarchical relations which are, according to the SKOS reference document, ``not used to make assertions". Transitive hierarchical relations in SKOS are meant to be infered by the vocabulary user, which is reflected in the SKOS schema by, e.g., broader being a subproperty of broaderTransitive.

\begin{definition}
Let \(TR \subseteq SR\) be the set of all conceptual resources being transitively related by \texttt{skos:broaderTransitive} respectively \texttt{skos:narrowerTransitive}, not by subproperties thereof. Furthermore, let \(HR \subseteq SR\) be the set of all conceptual resources being related by \texttt{skos:broader} and \texttt{skos:narrower} with \((c,c') \in HR \Rightarrow (c',c) \in HR\). We can write this criterion as a function \(str:V \rightarrow \mathbb{N}_{0}\) with \[str(v)=\left|\left\{c \in C : c' \in C, (c,c') \in TR, (c,c') \notin HR\right\}\right|\]
\end{definition}

\subsection{Linked Data Specific Criteria / Linked Data Measures}
SKOS has been developed for creating knowledge organization systems that are used ``within the framework of the semantic web" \cite{Bernerslee2001}. Therefore we identified some criteria targeting issues related to best practises in publishing Linked Data, the underlying technology for establishing a Semantic Web \cite{Heath2011}.

\subsubsection{Concept External Link Average} The ``Web of Data'' consists of globally interconnected datasets, ``enabling seamless connections between data sets" \cite{Heath2011}. These links can be established between various SKOS vocabularies by ``external links", i.e., references from conceptual resources in a ``source vocabulary" to resources identified by an HTTP URI and available at a different host.

% \begin{definition}
% Let \(EL=C \times R\) be the set of external links with \(host(c) \neq host(r)\). This criterion can then be written as a function \(elc:V \righarrow \mathbb{ℚ}\) with \[elc(v)=\frac{\left|EL\right|}{\left|C\right|}\]
% \end{definition}

\subsubsection{HTTP URI Scheme Violation} One of the key concept of Linked Data is that URIs should be dereferencable in order to browse through data in the same way as through ``traditional" Web pages. Using HTTP URIs therefore is the logical consequence and mentioned numerous time in literature \cite{Heath2011}. However, some vocabularies use other URI schemes such as URNs and DOIs when defining resources, which impedes data lookup and crawling purposes.

\begin{definition}
Let \(VR \subseteq C \cup A\) be the set of vocabulary resources identified by an URI (not by a blank node). We can define a function \(httpScheme:R \rightarrow \left\{0,1\right\}\) with \(httpScheme(r)=1\) if the scheme part of the URI is http or https, 0 otherwise. Then this criterion can be written as a function \(usv:V \rightarrow \mathbb{N}_{0}\) with \[usv(v)=\left|\left\{vr \in VR : httpScheme(vr)=0\right\}\right|\]
\end{definition}

\subsubsection{Link Target Unavailability} Just as in the ``traditional" Web, resources in the Web of Data might also be unavailable, i.e. resolving their URI leads to an erroneous HTTP response or no response at all. An erroneous HTTP response in that case can be defined as a response code (after a possible redirection) other than 200. Since these ``broken links" hinder information gathering, they should be avoided.

\begin{definition}
Let \(LR \subseteq R\) be the set of all resources being related to conceptual, aggregational and grouping resources. The function \(resp:R \rightarrow \mathbb{N}\) assigns a resource its HTTP response code after following all redirections. We can therefore write this criterion as function \(ltu:V \rightarrow \mathbb{N}_{0}\) with \[ltu(v)=\left|\left\{r \in LR \cup VR : resp(r)=200\right\}\right|\]
\end{definition}

\subsubsection{Average Concept In-degree} A periodically updated version of a diagram visualizing ``the data sets in the LOD cloud as well as their interlinkage relationships” is published online\footnote{http://www4.wiwiss.fu-berlin.de/lodcloud/state/}. In these diagrams, DBpedia \footnote{http://dbpedia.org/About} is shown as the most intensely linked resource, i.e. a large number of vocabularies link to resources in that dataset. Therefore a dataset with a large number of other datasets referencing it, can be assumed to be of great value for the community. Accordingly, estimating the number of ``incoming links" of SKOS concepts defined in a vocabulary (henceforth called the in-degree of a concept) would give some hint about how established or accepted a controlled vocabulary is. A method to carry out these estimations would be utilizing existing Linked Data indices like, e.g., Sindice\footnote{http://sindice.com/} that provide a SPARQL endpoint.

\begin{definition}
Let \(U\) be the universe of all datasets on the Web and \(V \in U\). The set \(RR \subseteq R \times R\) contains all resources in distinct datasets related by an RDF property with \((r1,r2) \in RR \Rightarrow host(r1) \neq host(r2)\). This criterion can be written as a function \(aci:V \rightarrow \mathbb{ℚ}\) with \[aci(v)=\frac{\left|\left\{r \in R : c \in C, (r,c) \in RR\right\}\right|}{\left|C\right|}\] 
\end{definition}

\subsection{SKOS-Specific Criteria / SKOS Semantic Measures}
\subsubsection{Associative vs. Hierarchical Relation Clashes} This criterion is similar to criterion ??\ref{harc}??, however it strictly covers integrity condition S27 from the SKOS reference document, i.e. involving the transitive hull of hierarchical relations, not taking into account hierarchical mapping properties.

% \begin{definition}
% Let \(CBR \subseteq SR\) and \(CNR \subseteq SR\) be the set of conceptual resources being hierarchically broader respectively narrower related within the same concept scheme by the properties \texttt{skos:broader} and \texttt{skos:narrower}. Furthermore, the set \(REL \subseteq SR\) contains all conceptual resources related by the \texttt{skos:related} property. We consider two directed graphs \(GB=(C,CBR)\) and \(GN=(C,CNR)\) and a function hierarchical:C \times C \rightarrow \left\{0,1\right\} with \(hierarchical((c,c'))=1\) if a path between c and c’ exists in either \(GB\) or \(GN\), 0 otherwise. This criterion can then be written as a function \(ahrc:G \rightarrow \mathbb{N}_{0}\) with \[ahrc(g)=\left|\left\{(c,c') \in REL:hierarchical((c,c'))=1\right\}\right|\]
% \end{definition}

\subsubsection{Exact vs. Associative and Hierarchical Mapping Clashes} Integrity condition S46 of the SKOS reference document states disjointness of the property \texttt{skos:exactMatch} with \texttt{skos:broadMatch} and \texttt{skos:relatedMatch}.

% \begin{definition}
% Let \(EM \subseteq SR\), \(BM \subseteq SR\), \(RM \subseteq SR\) be the set of conceptual resources related by \texttt{skos:exactMatch}, \texttt{skos:broadMatch}, and \texttt{skos:relatedMatch}. In functional form, this criteria can be written as \(eahmc:V \rightarrow \mathbb{N}_{0}\) with \[eahmc(v)=\left|\left\{em \in EM : em \in BM \cup RM\right\}\right|\]
% \end{definition}

\subsubsection{Illegal SKOS Terms} Vocabularies expressed in the SKOS language can be easily be extended by proprietary classes or properties in order to meet certain requirements of the publishing organizations that cannot (yet) be expressed within the SKOS schema. However, there seems to exist a misunderstanding in some vocabularies about the correct way of introducing new classes or properties in an OWL document. In some cases, vocabularies ``invent" new terms in the SKOS namespace that cannot be resolved. This criterion has been identified as ``Use of undefined classes and properties" in \cite{Hogan2010}.

\subsubsection{Deprecated Property Usage} With the SKOS W3C recommendation maturing, some properties have been removed from the current version of the schema. Vocabularies using these ``deprecated" properties hence contain parts of their information in a non ``standard"-compliant way, having negative effects when, e.g., crawling vocabularies to gather specific information.

% \begin{definition}
% We define a set that contains all deprecated properties DP=\left\{\texttt{skos:symbol}, \texttt{skos:prefSymbol}, \texttt{skos:altSymbol}, \texttt{skos:CollectableProperty}, \texttt{skos:subject}, \texttt{skos:isSubjectOf}, \texttt{skos:primarySubject}, \texttt{skos:isPrimarySubjectOf}, \texttt{skos:subjectIndicator}\right\}. Let \(DR \subseteq RV \times RV\) with \(RV \subseteq R\) being the set of all RDF resources in V that are related by a property in DP. This criterion can then be written as a function \(dpu:V \rightarrow \mathbb{N}_{0}\) with \[dpu(v)=\left|DR\right|\]
% \end{definition}

\subsubsection{Omitted Top Concepts} The SKOS language provides ConceptSchemes which are a facility for grouping related concepts. In order to provide entry points to such a group of concepts, one or more concepts can be marked as top concepts. This helps to provide “efficient access”\footnote{SKOS primer, \url{http://www.w3.org/TR/skos-primer/}} and simplifies orientation in the vocabulary.

\begin{definition}
Let \(TCR \subseteq AR\) be the set of concepts related to a \texttt{skos:ConceptScheme} by the properties \texttt{skos:topConceptOf} or \texttt{skos:hasTopConcept}. Furthermore, \(CS \subseteq A\) is the set of ConceptSchemes defined in a vocabulary. We can then define this criterion as a function \(otc:V \rightarrow \left\{0,1\right\}\) with \[otc(v)=0 \iff \forall cs \in CS. \exists (c,cs) \in TCR, 1 otherwise\]
\end{definition}

\subsubsection{Top Concepts Having Broader Concepts} \cite{Allemang2011} proposes to “not indicate any concepts internal to the tree as top concepts”, i.e. top concepts in a concept scheme should not have broader concepts.

\begin{definition}
Let \(CBR \subseteq SR\) be the set of conceptual resources having broader concepts within the same concept scheme, i.e. being related to another concept by the property \texttt{skos:broader}. \(tcb:V \rightarrow \mathbb{N}_{0}\) with \[tcb(v)=\left|\left\{c \in C : (c,cs) \in TCR, (c,c') \in CBR\right\}\right|\]
\end{definition}

\subsection{Labeling Issues}

\subsection{Other Criteria}
